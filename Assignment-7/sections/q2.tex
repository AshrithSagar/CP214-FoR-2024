\section*{Problem 2}
\setcounter{section}{2}
\setcounter{equation}{0}

\textbf{3R spatial open chain:}
Consider a manipulator shown in its home position (all joint variables set equal to zero).
Choose the fixed frame \( \{0\} \) and end-effector frame \( \{3\} \) as indicated in the figure.
Given all this information, express the end-effector frame configuration when the robot is in its zero position (i.e., \( g_{e e}(0) \)) and the twist axes \( \widehat{\xi}_{i} \) of joint \( i=\{1,2,3\} \).

\begin{figure}[h]
    \centering
    \includegraphics[width=0.5\textwidth]{figures/images/q2.jpg}
\end{figure}

\subsection*{Solution}

The end-effector frame configuration can be computed using the forward kinematics formula as
\begin{equation}
    g_{e e}(\theta)
    =
    g_{0 3}(\theta_{1}, \theta_{2}, \theta_{3})
    =
    g_{0 1}(\theta_{1}) g_{1 2}(\theta_{2}) g_{2 3}(\theta_{3})
\end{equation}
where each \( g_{a b} \in SE(3) \) is the transformation matrix from frame \( \{ a \} \) to frame \( \{ b \} \).
We can compute each of these transformation matrices as
\begin{align*}
    g_{0 1}(\theta_{1})
     & =
    e^{\widehat{\xi}_{1} \theta_{1}},
    \quad
    \xi_{1}
    =
    \begin{bmatrix}
        v_1 \\
        \omega_1
    \end{bmatrix},
    \quad
    \omega_1
    =
    \begin{bmatrix}
        0 \\
        0 \\
        1
    \end{bmatrix},
    \quad
    v_1
    =
    \begin{bmatrix}
        0 \\
        0 \\
        0
    \end{bmatrix}
    \\
    g_{1 2}(\theta_{2})
     & =
    e^{\widehat{\xi}_{2} \theta_{2}},
    \quad
    \xi_{2}
    =
    \begin{bmatrix}
        v_2 \\
        \omega_2
    \end{bmatrix},
    \quad
    \omega_2
    =
    \begin{bmatrix}
        0 \\
        0 \\
        1
    \end{bmatrix},
    \quad
    v_2
    =
    - \omega_2 \times
    \begin{bmatrix}
        L_1 \\
        0   \\
        0
    \end{bmatrix}
    =
    \begin{bmatrix}
        0    \\
        -L_1 \\
        0
    \end{bmatrix}
    \\
    g_{2 3}(\theta_{3})
     & =
    e^{\widehat{\xi}_{3} \theta_{3}},
    \quad
    \xi_{3}
    =
    \begin{bmatrix}
        v_3 \\
        \omega_3
    \end{bmatrix},
    \quad
    \omega_3
    =
    \begin{bmatrix}
        0 \\
        0 \\
        1
    \end{bmatrix},
    \quad
    v_3
    =
    - \omega_3 \times
    \begin{bmatrix}
        L_2 \\
        0   \\
        0
    \end{bmatrix}
    =
    \begin{bmatrix}
        0    \\
        -L_2 \\
        0
    \end{bmatrix}
\end{align*}

\begin{equation*}
    \implies
    \xi_{1}
    =
    \begin{bmatrix}
        0 \\
        0 \\
        0 \\
        0 \\
        0 \\
        1
    \end{bmatrix}
    \implies
    \widehat{\xi}_{1}
    =
    \begin{bmatrix}
        \widehat{\omega}_{1} & v_1 \\
        0                    & 0
    \end{bmatrix}
    =
    \begin{bmatrix}
        0 & -1 & 0 & 0 \\
        1 & 0  & 0 & 0 \\
        0 & 0  & 0 & 0 \\
        0 & 0  & 0 & 0
    \end{bmatrix}
\end{equation*}

\begin{equation*}
    \xi_{2}
    =
    \begin{bmatrix}
        0    \\
        -L_1 \\
        0    \\
        0    \\
        0    \\
        1
    \end{bmatrix}
    \implies
    \widehat{\xi}_{2}
    =
    \begin{bmatrix}
        \widehat{\omega}_{2} & v_2 \\
        0                    & 0
    \end{bmatrix}
    =
    \begin{bmatrix}
        0 & -1 & 0 & 0    \\
        1 & 0  & 0 & -L_1 \\
        0 & 0  & 0 & 0    \\
        0 & 0  & 0 & 0
    \end{bmatrix}
\end{equation*}

\begin{equation*}
    \xi_{3}
    =
    \begin{bmatrix}
        0    \\
        -L_2 \\
        0    \\
        0    \\
        0    \\
        1
    \end{bmatrix}
    \implies
    \widehat{\xi}_{3}
    =
    \begin{bmatrix}
        \widehat{\omega}_{3} & v_3 \\
        0                    & 0
    \end{bmatrix}
    =
    \begin{bmatrix}
        0 & -1 & 0 & 0    \\
        1 & 0  & 0 & -L_2 \\
        0 & 0  & 0 & 0    \\
        0 & 0  & 0 & 0
    \end{bmatrix}
\end{equation*}

\begin{align*}
    \implies
    e^{\widehat{\xi}_{1} \theta_{1}}
     & =
    \begin{bmatrix}
        \cos \theta_{1} & -\sin \theta_{1} & 0 & 0 \\
        \sin \theta_{1} & \cos \theta_{1}  & 0 & 0 \\
        0               & 0                & 1 & 0 \\
        0               & 0                & 0 & 1
    \end{bmatrix}
    \\
    \implies
    e^{\widehat{\xi}_{2} \theta_{2}}
     & =
    \begin{bmatrix}
        \cos \theta_{2} & -\sin \theta_{2} & 0 & 0    \\
        \sin \theta_{2} & \cos \theta_{2}  & 0 & -L_1 \\
        0               & 0                & 1 & 0    \\
        0               & 0                & 0 & 1
    \end{bmatrix}
    \\
    \implies
    e^{\widehat{\xi}_{3} \theta_{3}}
     & =
    \begin{bmatrix}
        \cos \theta_{3} & -\sin \theta_{3} & 0 & 0    \\
        \sin \theta_{3} & \cos \theta_{3}  & 0 & -L_2 \\
        0               & 0                & 1 & 0    \\
        0               & 0                & 0 & 1
    \end{bmatrix}
\end{align*}

\begin{align*}
    \implies
    g_{e e}(0)
     & =
    g_{0 1}(0) g_{1 2}(0) g_{2 3}(0)
    \\ & =
    \begin{bmatrix}
        1 & 0 & 0 & 0 \\
        0 & 1 & 0 & 0 \\
        0 & 0 & 1 & 0 \\
        0 & 0 & 0 & 1
    \end{bmatrix}
    \begin{bmatrix}
        1 & 0 & 0 & 0    \\
        0 & 1 & 0 & -L_1 \\
        0 & 0 & 1 & 0    \\
        0 & 0 & 0 & 1
    \end{bmatrix}
    \begin{bmatrix}
        1 & 0 & 0 & 0    \\
        0 & 1 & 0 & -L_2 \\
        0 & 0 & 1 & 0    \\
        0 & 0 & 0 & 1
    \end{bmatrix}
    \\ & =
    \begin{bmatrix}
        1 & 0 & 0 & 0        \\
        0 & 1 & 0 & -L_1-L_2 \\
        0 & 0 & 1 & 0        \\
        0 & 0 & 0 & 1
    \end{bmatrix}
\end{align*}

\clearpage
In the zero configuration, we should actually have
\begin{equation*}
    g_{e e}(0)
    =
    \begin{bmatrix}
        0  & 0 & 1 & L_1  \\
        0  & 1 & 0 & 0    \\
        -1 & 0 & 0 & -L_2 \\
        0  & 0 & 0 & 1
    \end{bmatrix}
\end{equation*}
which can be written by inspection, based on frame \( \{0\} \), since w.r.t.\@ frame \( \{0\} \), the end-effector frame is translated by \( L_1 \) along the \( x \)-axis and \( -L_2 \) along the \( z \)-axis, and there is a 90 degree rotation about the y-axis.

Rotation matrix about the y-axis is given by
\begin{equation*}
    R_y(\theta)
    =
    \begin{bmatrix}
        \cos \theta  & 0 & \sin \theta \\
        0            & 1 & 0           \\
        -\sin \theta & 0 & \cos \theta
    \end{bmatrix}
\end{equation*}
and we put \( \theta = \frac{\pi}{2} \) to get
\begin{equation*}
    R_y\left(\frac{\pi}{2}\right)
    =
    \begin{bmatrix}
        0  & 0 & 1 \\
        0  & 1 & 0 \\
        -1 & 0 & 0
    \end{bmatrix}
\end{equation*}
